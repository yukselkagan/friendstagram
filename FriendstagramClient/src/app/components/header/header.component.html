<nav class="navbar navbar-expand-lg navbar-light bg-light text-light">
  <div class="container-fluid">
    <a class="navbar-brand text-sc-mid" routerLink="home">Friendstagram</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" >Logged: {{
            commonInformation.email
          }}</a>
        </li>
      </ul>
    </div>

    <div class="text-dark">
      <div class="margin-parent-2 d-flex align-items-center">
        <a routerLink="/"><i class="bi bi-house-door fs-2 mb-1"></i></a>
        <a routerLink="message" ><i class="bi bi-envelope fs-2"></i></a>
        <a routerLink="share"><i class="bi bi-plus-square fs-2"></i></a>
        <a routerLink="explore" ><i class="bi bi-compass fs-2"></i></a>
        <!-- <i class="bi bi-heart fs-2 me-5 "></i> -->

        <div class="btn-group dropdown" >
          <div data-bs-toggle="dropdown" (click)="getFriendshipRequestList()" aria-expanded="false" >
            <i class="bi bi-heart fs-2 "></i>
          </div>
          <div class="dropdown-menu dropdown-menu-end dropdown-menu-lg-end" style="z-index: 2000; width: 40vw" >
            <div class="p-2" >
              <div class="row d-flex align-items-center mb-1" *ngFor="let friendshipRequest of friendshipRequestList" >
                <div class="col-sm-8">
                  <img
                  class="dropdown-toggle"
                  id="dropdownMenuButton1"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                  width="40px"
                  height="40px"
                  [src]="processDisplayImage(friendshipRequest.user.profilePicture)"
                  style="border-radius: 50%"
                  />
                  <span class="ms-2 cursor-pointer" [routerLink]="friendshipRequest.user.userName" >
                    {{processDisplayName(friendshipRequest.user.userName, friendshipRequest.user.displayName)}}
                  </span>
                </div>
                <div class="col-sm-4">
                  <button class="btn btn-success ms-2" (click)="answerFriendshipRequest(friendshipRequest.friendshipRequestId, true)" >Accept</button>
                  <button class="btn btn-danger ms-2" (click)="answerFriendshipRequest(friendshipRequest.friendshipRequestId, false)"  >Reject</button>
                </div>

              </div>
            </div>
          </div>
        </div>


        <span class="btn-group dropdown">
          <img
            class="dropdown-toggle"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            width="40px"
            height="40px"
            [src]="profileImageSrc"
            style="border-radius: 50%"
          />

          <ul
            class="dropdown-menu dropdown-menu-end dropdown-menu-lg-end"
            aria-labelledby="dropdownMenuButton1"
            style="z-index: 2000"
          >
            <li><a class="dropdown-item" routerLink="profile" >Profile</a></li>
            <li><a class="dropdown-item" routerLink="settings" >Settings</a></li>
            <li><hr class="dropdown-divider" /></li>
            <li><a class="dropdown-item" style="cursor: pointer;" (click)="logout()">Logout</a></li>
          </ul>
        </span>
      </div>
    </div>
  </div>
</nav>
